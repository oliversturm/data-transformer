!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.dataTransformer=r():e.dataTransformer=r()}(this,function(){return function(e){function r(n){if(t[n])return t[n].exports;var a=t[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r){"use strict";function t(e,r){var t,n,a,o,i,u,s;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:t=0,n=!0,a=!1,o=void 0,c.prev=4,i=r[Symbol.iterator]();case 6:if(n=(u=i.next()).done){c.next=13;break}return s=u.value,c.next=10,e(s,t++);case 10:n=!0,c.next=6;break;case 13:c.next=19;break;case 15:c.prev=15,c.t0=c.catch(4),a=!0,o=c.t0;case 19:c.prev=19,c.prev=20,!n&&i.return&&i.return();case 22:if(c.prev=22,!a){c.next=25;break}throw o;case 25:return c.finish(22);case 26:return c.finish(19);case 27:case"end":return c.stop()}},c[0],this,[[4,15,19,27],[20,,22,26]])}function n(e,r,t){var n=r,a=0,o=!0,i=!1,c=void 0;try{for(var u,s=t[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var f=u.value;n=e(n,f,a++)}}catch(e){i=!0,c=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw c}}return n}function a(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"field";return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return r=function(e,r,t,n){var a=o,c=!1;if("function"==typeof o){var u=o(e,r,t,n);"object"===("undefined"==typeof u?"undefined":i(u))?(a=u.prefix,u.skipNumbering&&(c=u.skipNumbering)):a=u}return a+(c?"":n)},c.delegateYield(t(function(e,t){return n(function(n,o,i){return n[i<a.length?a[i]:r(e,t,o,i)]=o,n},{},e)},e),"t0",2);case 2:case"end":return c.stop()}},c[1],this)}function o(e){var r,t,n,a,o,u,s,f,p,d,l,v,b,m,x=this,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{perSourceObject:!1,dynamicDetector:void 0};return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:f=function(e){return s(e,{})},s=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(null!=e&&"object"===("undefined"==typeof e?"undefined":i(e)))for(var a in e)t.includes(a)||(r[a]=e[a]);else{if(!n)throw"copyFields encountered a non-object source ("+e+"), but no sourceName was provided.";r[n]=e}return r},t=function(e){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=regeneratorRuntime.keys(e);case 1:if((r.t1=r.t0()).done){r.next=8;break}if(t=r.t1.value,"string"==typeof e[t]||"function"!=typeof e[t][Symbol.iterator]){r.next=6;break}return r.next=6,t;case 6:r.next=1;break;case 8:case"end":return r.stop()}},r[0],this)},r=[t].map(regeneratorRuntime.mark),n=h,0!=h.length||y.perSourceObject||(a=e[Symbol.iterator]().next(),o=a.value,u=a.done,u||(n=Array.from(y.dynamicDetector?y.dynamicDetector(o):t(o)))),p=!0,d=!1,l=void 0,c.prev=9,v=regeneratorRuntime.mark(function e(){var r,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function e(t,o){var i,c,u,p,d,l,v,b,m;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n.length-t<1)){r.next=2;break}return r.abrupt("return");case 2:if(i=a[n[t]],!(i&&i.length>0)){r.next=37;break}c=f(o),u=!0,p=!1,d=void 0,r.prev=8,l=a[n[t]][Symbol.iterator]();case 10:if(u=(v=l.next()).done){r.next=21;break}return b=v.value,m=f(c),s(b,m,[],n[t]),r.delegateYield(e(t+1,m),"t0",15);case 15:if(t!==n.length-1){r.next=18;break}return r.next=18,m;case 18:u=!0,r.next=10;break;case 21:r.next=27;break;case 23:r.prev=23,r.t1=r.catch(8),p=!0,d=r.t1;case 27:r.prev=27,r.prev=28,!u&&l.return&&l.return();case 30:if(r.prev=30,!p){r.next=33;break}throw d;case 33:return r.finish(30);case 34:return r.finish(27);case 35:r.next=41;break;case 37:return r.delegateYield(e(t+1,o),"t2",38);case 38:if(t!==n.length-1){r.next=41;break}return r.next=41,o;case 41:case"end":return r.stop()}},r[0],this,[[8,23,27,35],[28,,30,34]])},r=[i].map(regeneratorRuntime.mark),a=m.value,0==h.length&&y.perSourceObject&&(n=Array.from(y.dynamicDetector?y.dynamicDetector(a):t(a))),o=s(a,{},n),!(n.length>0)){e.next=9;break}return e.delegateYield(i(0,o),"t0",7);case 7:e.next=11;break;case 9:return e.next=11,o;case 11:case"end":return e.stop()}},e,x)}),b=e[Symbol.iterator]();case 12:if(p=(m=b.next()).done){c.next=17;break}return c.delegateYield(v(),"t0",14);case 14:p=!0,c.next=12;break;case 17:c.next=23;break;case 19:c.prev=19,c.t1=c.catch(9),d=!0,l=c.t1;case 23:c.prev=23,c.prev=24,!p&&b.return&&b.return();case 26:if(c.prev=26,!d){c.next=29;break}throw l;case 29:return c.finish(26);case 30:return c.finish(23);case 31:case"end":return c.stop()}},c[2],this,[[9,19,23,31],[24,,26,30]])}Object.defineProperty(r,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.map=t,r.fold=n,r.iterableOfIterablesToObjects=a,r.flattenOneToN=o;var c=[t,a,o].map(regeneratorRuntime.mark)}])});